# Medical Transcriber API

Django REST API that uses OpenAI to generate medical treatment recommendations and ICD-10 diagnostic codes.

## MEDICAL DISCLAIMER! (READ BEFORE USE)

This application is for educational and informational purposes only. The treatment recommendations and diagnostic codes generated by this API are NOT a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of a qualified healthcare provider with any questions you may have regarding a medical condition. Never disregard professional medical advice or delay in seeking it because of information provided by this application.

## Setup

1. Clone repository
   git clone https://github.com/NJBurrack/medical-transcriber.git
   cd medical-transcriber

2. Create virtual environment
   python -m venv venv
   source venv/bin/activate  # Windows: venv\Scripts\activate

3. Install dependencies
   pip install -r requirements.txt

4. Create .env file
   OPENAI_API_KEY=your-key-here
   OPENAI_ORG_ID=your-org-id-here
   DEBUG=True
   SECRET_KEY=your-secret-key-here

5. Run migrations
   python manage.py migrate

6. Start server
   python manage.py runserver

## Sample Test Data

The repository includes a `sample.csv` file containing real medical transcriptions that you can use to test the API. 

To use sample data from the CSV:
1. Open `sample.csv` in the project root
2. Find a medical transcription in the "transcription" column
3. Copy the text and use it as the "description" value in your API request

Example from sample.csv:
"A 45-year-old male presents with chest pain and shortness of breath..."

You can paste any transcription from the CSV into the API to generate treatment recommendations and ICD-10 codes.

## Testing the API (No Postman Required!)

Django REST Framework includes a built-in web interface that lets you test APIs directly in your browser.

### Step 1: Start the Server
python manage.py runserver

### Step 2: Open Your Browser
Go to: http://127.0.0.1:8000/api/get-treatment/

You'll see a nice web page with your API documentation.

### Step 3: Test Treatment Endpoint
1. Scroll to the bottom of the page
2. You'll see a section called "Content" with a text box
3. Paste this JSON into the box:
   {
       "description": "A 23-year-old white female presents with complaint of allergies."
   }
4. Make sure "application/json" is selected in the "Media type" dropdown
5. Click the "POST" button
6. You'll see the response with age and treatment recommendation

### Step 4: Test ICD Code Endpoint
Go to: http://127.0.0.1:8000/api/icd-codes/

1. Scroll to the "Content" section at the bottom
2. Paste this JSON:
   {
       "treatment": "First-line: Oral antihistamines (e.g., cetirizine, loratadine, or fexofenadine)."
   }
3. Make sure "application/json" is selected
4. Click the "POST" button
5. You'll see the response with the ICD-10 code

## Endpoints

### POST /api/get-treatment/
Returns patient age and treatment recommendation.

Request:
{
    "description": "A 23-year-old white female presents with complaint of allergies."
}

Response:
{
    "response": {
        "age": "Patient Age: 23 years old",
        "treatment": "Recommended Treatment:\n[treatment details]"
    }
}

### POST /api/icd-codes/
Returns ICD-10 code for given treatment.

Request:
{
    "treatment": "First-line: Oral antihistamines (e.g., cetirizine, loratadine, or fexofenadine)."
}

Response:
{
    "treatment": "[treatment text]",
    "code": "J30.9"
}

## Tech Stack

- Django 5.2.8
- Django REST Framework 3.16.1
- OpenAI Python 2.6.1

## Data Source

Medical transcriptions from https://www.kaggle.com/datasets/tboyle10/medicaltranscriptions
